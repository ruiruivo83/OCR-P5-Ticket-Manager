{% extends "_layout.html.twig" %}


{% block topbar %}
    {{ include('/backend/user_topbar.html.twig') }}
{% endblock %}

{% block body %}
    <div class="card m-1">
        <div class="card-header">
            <div class="w-100">
                <i class="fas fa-user-friends mr-3 fa-2x"></i>
                GROUP: <a href="http://projet5/index.php?action=groupdetails&id={{ groupid }}">{{ groupid }}</a> - GROUP
                MEMBERS
            </div>

        </div>
        <div class="card-body p-0">
            <div class="bg-light p-1">
                <form action="index.php?action=searchuser&groupid={{ groupid }}" method="post">
                    <div class="input-group" style="width: 300px;">
                        <input type="text"
                               class="form-control bg-white border-0 small"
                               placeholder="Search member"
                               aria-label="Search"
                               aria-describedby="basic-addon2"
                               name="searchtext">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit">
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- TABLE USER MEMBERS -->
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm m-0 " cellspacing="0"
                   width="100%">

                <thead>
                <tr>
                    <th class="th-sm">Member eMail
                    </th>
                    <th class="th-sm">FirstName
                    </th>
                    <th class="th-sm">LastName
                    </th>
                    <th class="th-sm">Current Company
                    </th>
                    <th class="th-sm">Current Country
                    </th>
                    <th class="th-sm align-items-end">
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for result in memberresults %}
                    <tr>
                        <td class="table_text_overflow_ellipsis"><img class="img-profile rounded-circle avatar"
                                                                      style=" width: 30px; height: 30px;"
                                                                      src="upload_files/{{ result.photo_filename }}"
                                                                      alt=""/> {{ result.email }}
                        </td>
                        <td class="table_text_overflow_ellipsis"> {{ result.firstname }} </td>
                        <td class="table_text_overflow_ellipsis">  {{ result.lastname }} </td>
                        <td class="table_text_overflow_ellipsis">  {{ result.company }} <span class="badge badge-info">Current Situation</span>
                        </td>
                        <td class="table_text_overflow_ellipsis"> {{ result.country }} <span class="badge badge-info">Current Situation</span>
                        </td>
                        <td class="table_text_overflow_ellipsis">
                            <a class="mr-2"
                               href="index.php?action=removememberfromgroupfunction&groupid={{ groupid }}&userid={{ result.id }}">REMOVE</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
                <tfoot>
                <tr>
                    <th class="th-sm">Member eMail
                    </th>
                    <th class="th-sm">FirstName
                    </th>
                    <th class="th-sm">LastName
                    </th>
                    <th class="th-sm">Current Company
                    </th>
                    <th class="th-sm">Current Country
                    </th>
                    <th class="th-sm align-items-end">
                    </th>
                </tr>
                </tfoot>
            </table>

        </div>
    </div>
{% endblock %}